<template>
  <a-modal
    title="详细信息"
    :bodyStyle="{maxHeight:'700px',overflow:'auto',paddingTop: '5px'}"
    width="60%"
    :visible="visible"
    :confirmLoading="loading"
    :closable="false"
    @cancel="() => { $emit('cancel') }"
    :keyboard="false"
    :maskClosable="false"
  >
    <template slot="footer">
      <a-button type="primary" @click="() => { $emit('cancel') }">返回</a-button>
    </template>
    <!--    <a-card title="基本信息" style="margin-bottom: 4px;margin-top: 4px">-->
    <!--      <a-descriptions :column="1" style="margin-left: 80px" :colon="true">-->
    <!--        &lt;!&ndash;        <a-descriptions-item label="检查单位">{{ basicInfo }}</a-descriptions-item>&ndash;&gt;-->
    <!--        &lt;!&ndash;        <a-descriptions-item label="检查时间">{{ basicInfo }}</a-descriptions-item>&ndash;&gt;-->
    <!--        &lt;!&ndash;        <a-descriptions-item label="检查人">{{ basicInfo }}</a-descriptions-item>&ndash;&gt;-->
    <!--        <a-descriptions-item label="作业票种类">{{ basicInfo.ticketTypeName || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业内容">{{ basicInfo.taskContent || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业区域">{{ basicInfo.taskArea || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="经度">{{ basicInfo.lng || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="纬度">{{ basicInfo.lat || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业开始时间">{{ basicInfo.startTime || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业结束时间">{{ basicInfo.endTime || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="涉及的其他特殊作业">{{ basicInfo.relatedTasks || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="危险辨识">{{ basicInfo.harmIdentification || '-' }}</a-descriptions-item>-->
    <!--      </a-descriptions>-->
    <!--    </a-card>-->
    <task-hot-work-detail :ticket-info="ticketInfo" v-if="ticketInfo.ticketType==0"/>
    <!--    <a-card :title="basicInfo.ticketTypeName" style="margin-bottom: 4px;margin-top: 4px">-->
    <!--      &lt;!&ndash;动火作业票&ndash;&gt;-->
    <!--      <a-descriptions :column="1" style="margin-left: 80px" v-if="basicInfo.ticketType==0">-->
    <!--        <a-descriptions-item label="作业票编号">{{ ticketInfo.ticketCode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="动火作业级别">{{ ticketInfo.hotWorkLevelValue || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="动火地点">{{ ticketInfo.location || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="动火方式">{{ ticketInfo.mode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="动火作业负责人">{{ ticketInfo.charger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="动火人">{{ ticketInfo.firePerson || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="属地负责人">{{ ticketInfo.areaCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="安环负责人">{{ ticketInfo.envCharger || '-' }}</a-descriptions-item>-->
    <!--      </a-descriptions>-->
    <!--      &lt;!&ndash;受限空间作业票&ndash;&gt;-->
    <!--      <a-descriptions :column="1" style="margin-left: 80px" v-if="basicInfo.ticketType==1">-->
    <!--        <a-descriptions-item label="作业票编号">{{ ticketInfo.ticketCode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="受限空间所属单位">{{ ticketInfo.unit || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="受限空间名称">{{ ticketInfo.confinedSpaceName || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="空间内原有介质">{{ ticketInfo.sourceMedium || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业单位负责人">{{ ticketInfo.charger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="监护人">{{ ticketInfo.guardian || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业人">{{ ticketInfo.workPerson || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="有毒有害介质">{{ ticketInfo.harmMedium || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="可燃气">{{ ticketInfo.combustibleGas || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="氧含量">{{ ticketInfo.oxygenContent || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="生产单位负责人">{{ ticketInfo.productionCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="安环负责人">{{ ticketInfo.envCharger || '-' }}</a-descriptions-item>-->
    <!--      </a-descriptions>-->
    <!--      &lt;!&ndash;盲板抽堵作业票&ndash;&gt;-->
    <!--      <a-descriptions :column="1" style="margin-left: 80px" v-if="basicInfo.ticketType==2">-->
    <!--        <a-descriptions-item label="作业票编号">{{ ticketInfo.ticketCode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="设备管道名称">{{ ticketInfo.pipeName || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="介质">{{ ticketInfo.medium || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="温度">{{ ticketInfo.temperature || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="压力">{{ ticketInfo.pressure || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="盲板材质">{{ ticketInfo.materialOfBlindPlate || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="盲板规格">{{ ticketInfo.blindPlateSpecification || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="盲板编号">{{ ticketInfo.blindCode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="抽堵类型">{{ ticketInfo.typeValue || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="监护人">{{ ticketInfo.guardianId || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业人">{{ ticketInfo.workPerson || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="生产单位作业指挥">{{ ticketInfo.productionGuide || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业单位负责人">{{ ticketInfo.workUnitCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="盲板位置图">-->
    <!--          <a-button type="link" @click="fileDownLoad(ticketInfo.blindImgUrl)" style="padding-left: 5px">{{ ticketInfo.blindImgName || '下载' }}</a-button>-->
    <!--        </a-descriptions-item>-->
    <!--        <a-descriptions-item label="生产单位负责人">{{ ticketInfo.productionCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="设备部负责人">{{ ticketInfo.facilityCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="安环负责人">{{ ticketInfo.envCharger || '-' }}</a-descriptions-item>-->
    <!--      </a-descriptions>-->
    <!--      &lt;!&ndash;高处作业票&ndash;&gt;-->
    <!--      <a-descriptions :column="1" style="margin-left: 80px" v-if="basicInfo.ticketType==3">-->
    <!--        <a-descriptions-item label="作业票编号">{{ ticketInfo.ticketCode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业高度">{{ ticketInfo.hight || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业类别">{{ ticketInfo.typeValue || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业单位">{{ ticketInfo.unit || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业人">{{ ticketInfo.workPerson }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="生产单位负责人">{{ ticketInfo.productionCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="设备部负责人">{{ ticketInfo.facilityCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="安环负责人">{{ ticketInfo.productionCharger || '-' }}</a-descriptions-item>-->
    <!--      </a-descriptions>-->
    <!--      &lt;!&ndash;吊装作业票&ndash;&gt;-->
    <!--      <a-descriptions :column="1" style="margin-left: 80px" v-if="basicInfo.ticketType==4">-->
    <!--        <a-descriptions-item label="作业票编号">{{ ticketInfo.ticketCode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="吊装作业级别">{{ ticketInfo.hoistingLevelValue || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="吊装工具名称">{{ ticketInfo.hoistingFacilityName || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="吊装人员及特殊工种作业证号">{{ ticketInfo.specialCertificateCode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="吊装指挥及特殊工种作业证号">{{ ticketInfo.guideCertificateCode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="生产单位负责人">{{ ticketInfo.productionCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="设备部负责人">{{ ticketInfo.facilityCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="安环负责人">{{ ticketInfo.envCharger || '-' }}</a-descriptions-item>-->
    <!--      </a-descriptions>-->
    <!--      &lt;!&ndash;临时用电作业票&ndash;&gt;-->
    <!--      <a-descriptions :column="1" style="margin-left: 80px" v-if="basicInfo.ticketType==5">-->
    <!--        <a-descriptions-item label="作业票编号">{{ ticketInfo.ticketCode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="电源接入点">{{ ticketInfo.powerAccessPoint || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="工作电压">{{ ticketInfo.voltage || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="用电设备及功率">{{ ticketInfo.facilityAndPower || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业人">{{ ticketInfo.workPerson || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="电工证号">{{ ticketInfo.electricianCertificateCode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="生产单位负责人">{{ ticketInfo.productionCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="设备部负责人">{{ ticketInfo.facilityCharger || '-' }}</a-descriptions-item>-->
    <!--      </a-descriptions>-->
    <!--      &lt;!&ndash;动土作业票&ndash;&gt;-->
    <!--      <a-descriptions :column="1" style="margin-left: 80px" v-if="basicInfo.ticketType==6">-->
    <!--        <a-descriptions-item label="作业票编号">{{ ticketInfo.ticketCode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="监护人">{{ ticketInfo.guardian || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="作业范围">{{ ticketInfo.description || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label=" 作业范围附件">-->
    <!--          <a-button type="link" @click="fileDownLoad(ticketInfo.workImgUrl)" style="padding-left: 5px">{{ ticketInfo.workImgName || '下载' }}</a-button>-->
    <!--        </a-descriptions-item>-->
    <!--        <a-descriptions-item label="编制人">{{ ticketInfo.editer || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="生产单位负责人">{{ ticketInfo.productionCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="设备部负责人">{{ ticketInfo.facilityCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="安环负责人">{{ ticketInfo.envCharger || '-' }}</a-descriptions-item>-->
    <!--      </a-descriptions>-->
    <!--      &lt;!&ndash;断路作业票&ndash;&gt;-->
    <!--      <a-descriptions :column="1" style="margin-left: 80px" v-if="basicInfo.ticketType==7">-->
    <!--        <a-descriptions-item label="作业票编号">{{ ticketInfo.ticketCode || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="涉及相关单位">{{ ticketInfo.relatedUnits || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="断路原因">{{ ticketInfo.openCircuitReason || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="断路地段示意图及相关说明">{{ ticketInfo.description || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="断路">-->
    <!--          <a-button type="link" @click="fileDownLoad(ticketInfo.workImgUrl)" style="padding-left: 5px">{{ ticketInfo.workImgName || '下载' }}</a-button>-->
    <!--        </a-descriptions-item>-->
    <!--        <a-descriptions-item label="编制人">{{ ticketInfo.editer || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="生产单位负责人">{{ ticketInfo.productionCharger || '-' }}</a-descriptions-item>-->
    <!--        <a-descriptions-item label="设备部负责人">{{ ticketInfo.facilityCharger || '-' }}</a-descriptions-item>-->
    <!--      </a-descriptions>-->
    <!--      <a-descriptions :column="1" style="margin-left: 80px" v-if="ticketInfo.docName">-->
    <!--        <a-descriptions-item label="附件">-->
    <!--          <a-button type="link" @click="fileDownLoad(ticketInfo.docUrl)" style="padding-left: 5px">{{ ticketInfo.docName }}</a-button>-->
    <!--        </a-descriptions-item>-->
    <!--      </a-descriptions>-->
    <!--    </a-card>-->
  </a-modal>
</template>

<script>
import { fileDownload } from '@/api/safety'
import TaskHotWorkDetail from './TaskHotWorkDetail'
export default {
  name: 'DetailModal',
  components: { TaskHotWorkDetail },
  props: {
    visible: {
      type: Boolean,
      required: true
    },
    loading: {
      type: Boolean,
      default: () => false
    },
    id: {
      type: String,
      default: ''
    },
    basicInfo: {
      type: Object,
      default: {}
    },
    ticketInfo: {
      type: Object,
      default: {}
    }
  },
  data () {
    return {
    }
  },
  methods: {
    fileDownLoad (url) {
      fileDownload({ link: url }).then(res => {
        window.open(res.data)
        // this.download(res.data,this.ticketInfo.docName)
      })
    }
  }
}
</script>
<style lang="less" scoped>
/deep/ .ant-modal-title {
  font-size: 18px;
}
/deep/ .ant-card-head-title {
  font-weight: bolder;
}
/deep/ .ant-descriptions-item-label {
  width: 210px;
  font-size: 15px;
  //font-weight: bolder;
  text-align: right;
}
/deep/ .ant-descriptions-item-content {
  font-size: 15px;
  font-weight: bolder;
}
</style>
