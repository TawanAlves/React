<template>
  <a-card title="人员历史" style="margin: 15px;">
    <a-table
      ref="table"
      size="default"
      :rowKey="(record, index) => (index)"
      :columns="historyColumns"
      :dataSource="historyDatas"
      :alert="false"
      :scroll="{ y: 350 }"
      :pagination="false"
    >
      <span slot="sign" slot-scope="text, record">
        <sign-img :src="BASE_URL + '/spang-safety/file' + record.signatureUrl"></sign-img>
      </span>
    </a-table>
  </a-card>
</template>

<script>
import SignImg from '../component/SignImg'
export default {
  name: 'PersonHistory',
  components: { SignImg },
  props: {
    historyDatas: {
      type: Array,
      default: () => [],
      required: true
    }
  },
  data () {
    return {
      historyColumns: [
        {
          title: '人员类型',
          dataIndex: 'userTypeName',
          align: 'center',
        },
        {
          title: '姓名',
          dataIndex: 'userName',
          align: 'center'
        },
        {
          title: '签字',
          dataIndex: 'sign',
          align: 'center',
          scopedSlots: { customRender: 'sign' }
        },
        {
          title: '变更时间',
          dataIndex: 'submitTime',
          align: 'center'
        }
      ],
      historyList: []
    }
  }
}
</script>

<style scoped lang="less">
  /deep/ .ant-table {
    height: auto;
  }
</style>
