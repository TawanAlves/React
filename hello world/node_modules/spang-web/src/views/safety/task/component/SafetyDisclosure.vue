<template>
  <div>
    <div class="risk-title">一、可能存在的事故风险种类</div>
    <el-row :gutter="24">
      <el-col :span="8" v-for="(item, index) in datas.riskType" :key="index" class="line-height-md">
        <a-checkbox v-model="item.checked" disabled></a-checkbox>
        <span class="mx-5" style="display: inline-block; width: 30%">{{ item.type }}</span>
        <span style="display: inline-block; width: 30%;text-align: center" class="word-break" :title="item.fillIn">{{ item.fillIn }}</span>
      </el-col>
    </el-row>
    <div class="risk-title">二、风险防范措施交底</div>
    <el-row :gutter="24">
      <el-col :span="12" v-for="(item, index) in datas.measures" :key="index" class="line-height-md">
        <a-checkbox v-model="item.checked" disabled></a-checkbox>
        <span class="mx-5">{{ item.content }}</span>
        <span v-if="index === datas.measures.length - 1">{{ item.fillIn }}</span>
      </el-col>
    </el-row>
  </div>
</template>

<script>
import { safetyForm } from './risk'
import cloneDeep from 'lodash.clonedeep'
export default {
  name: 'SafetyDisclosure',
  props: {
    contentData: {
      type: Object,
      default: () => {},
      required: true
    }
  },
  data () {
    return {
      datas: cloneDeep(safetyForm)
    }
  },
  watch: {
    contentData: {
      handler: function (val) {
        this.datas.riskType = this.datas.riskType.map((item, index) => {
          return Object.assign({}, item, val.riskType[index])
        })
        this.datas.measures = this.datas.measures.map((item, index) => {
          return Object.assign({}, item, val.measures[index])
        })
      },
      deep: true
    }
  }

}
</script>

<style scoped>
  .line-height-md {
    line-height: 28px;
    display: flex;
  }
  .risk-title {
    line-height: 22px;
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 5px;
  }
  .mx-5 {
    margin-left: 5px;
    margin-right: 5px;
  }
</style>
