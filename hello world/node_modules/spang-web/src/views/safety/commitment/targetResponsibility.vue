<template>
  <page-container :title="false">
    <a-card :bordered="false" style="margin: 15px" :bodyStyle="{ paddingBottom: 0 }">
      <div class="table-page-search-wrapper">
        <a-form layout="inline" labelAlign="right">
          <a-row :gutter="24">
            <a-col :md="8" :sm="12" :xs="24">
              <a-form-item label="模板类型">
                <a-select
                  show-search
                  v-model="queryParam.templateTypeValue"
                  placeholder="模板类型"
                  style="width: 100%"
                >
                  <a-select-option v-for="d in templateTypeNameOptions" :key="d.dictKey">
                    {{
                    d.dictValue
                    }}
                  </a-select-option>
                </a-select>
              </a-form-item>
            </a-col>
            <a-col :md="8" :sm="12" :xs="24">
              <a-form-item label="岗位">
                <!-- <a-select
                  show-search
                  v-model="queryParam.postId"
                  placeholder="岗位"
                  style="width: 100%"
                >
                  <a-select-option v-for="d in postNameOptions" :key="d.id">{{ d.postName }}</a-select-option>
                </a-select>-->
                <a-input
                  :disabled="commonDisabled"
                  v-model="queryParam.postName"
                  placeholder="岗位"
                  @blur="
                      () => {
                        $refs.postName.onFieldBlur()
                      }
                    "
                />
              </a-form-item>
            </a-col>
            <a-col :md="8" :sm="24" :xs="24" class="table-page-search-submitButtons">
              <a-space>
                <a-button type="primary" @click="$refs.table.refresh(true)">查询</a-button>
                <a-button type="second" @click="searchReset">重置</a-button>
              </a-space>
            </a-col>
          </a-row>
        </a-form>
      </div>
    </a-card>
    <a-card
      :bordered="false"
      style="margin: 15px"
      :headStyle="{ border: 'none', paddingBottom: 0 }"
      :bodyStyle="{ paddingBottom: 0 }"
      class="table-card"
    >
      <template #title>
        <div class="text-right">
          <a-button
            type="primary"
            icon="plus"
            v-if="permission.targetResponsibility_add"
            @click="addRecord"
            style="float: right"
          >新建</a-button>
        </div>
      </template>
      <s-table
        ref="table"
        size="default"
        :rowKey="(record) => record.id"
        :columns="columns"
        :data="loadData"
        :alert="false"
        showPagination="true"
        :scroll="{ y: `calc(100vh - 445px)`, x: 1340 }"
      >
        <!-- 序号 -->
        <span
          slot="number"
          slot-scope="text, record, index"
        >{{ pagination.pageSize * (pagination.current - 1) + index + 1 }}</span>
        <!-- 序号 end -->
        <template slot="status" slot-scope="text, record">
          <a-tag :color="record.status | colorFilter" style="margin-right: 0 !important">
            {{
            record.status | textFilter
            }}
          </a-tag>
        </template>
        <span slot="action" slot-scope="text, record">
          <template>
            <a
              @click="editRecord(record)"
              v-if="record.status !== 0  && permission.targetResponsibility_edit"
            >编辑</a>
            <a-divider
              type="vertical"
              v-if="record.status !== 0  && permission.targetResponsibility_edit"
            />
            <a
              @click="publishRecord(record, 0)"
              v-if="record.status !== 0  && permission.targetResponsibility_publish"
            >发布</a>
             <a-divider
              type="vertical"
              v-if="record.status !== 0 && permission.targetResponsibility_view"
            />
            <a
              @click="viewRecord(record)"
              v-if="record.status === 0"
            >查看</a>
            <a-divider
              type="vertical"
              v-if="record.status === 0 && permission.targetResponsibility_view"
            />
            <a
              @click="publishRecord(record, 1)"
              v-if="record.status !== 1  && permission.targetResponsibility_recall"
            >收回</a>
            <a
              @click="removeRecord(record)"
              v-if="record.status !== 0  && permission.targetResponsibility_remove"
            >删除</a>
          </template>
        </span>
      </s-table>
      <a-modal
        :title="commonTitle"
        :visible="commonVisible"
        :confirm-loading="confirmLoading"
        :maskClosable="false"
        width="900px"
        height="600px"
        :ok-button-props="{ props: { disabled: commonDisabled } }"
        @ok="modalOk()"
        @cancel="handleCancel"
        :keyboard="false"
      >
        <a-form-model
          ref="ruleForm"
          :model="commonData"
          :rules="rules"
          :label-col="labelCol"
          :wrapper-col="wrapperCol"
        >
          <div>
            <a-row :gutter="24">
              <a-col :span="24">
                <a-form-model-item
                  ref="templateName"
                  label="名称"
                  prop="templateName"
                  :label-col="{ span: 3 }"
                  :wrapper-col="{ span: 21 }"
                >
                  <a-input
                    :disabled="commonDisabled"
                    v-model="commonData.templateName"
                    @blur="
                      () => {
                        $refs.templateName.onFieldBlur()
                      }
                    "
                  />
                </a-form-model-item>
              </a-col>
              <a-col :span="8">
                <a-form-model-item ref="templateTypeValue" label="模板类型" prop="templateTypeValue">
                  <a-select
                    :disabled="commonDisabled"
                    show-search
                    v-model="commonData.templateTypeValue"
                    placeholder="模板类型"
                    style="width: 100%"
                  >
                    <a-select-option v-for="d in templateTypeNameOptions" :key="d.dictKey">
                      {{
                      d.dictValue
                      }}
                    </a-select-option>
                  </a-select>
                </a-form-model-item>
              </a-col>
              <a-col :span="8">
                <a-form-model-item ref="templateYearId" label="年度" prop="templateYearId">
                  <a-select
                    :disabled="commonDisabled"
                    show-search
                    v-model="commonData.templateYearId"
                    placeholder="年度"
                    style="width: 100%"
                  >
                    <a-select-option v-for="d in templateYearNameOptions" :key="d.dictKey">
                      {{
                      d.dictValue
                      }}
                    </a-select-option>
                  </a-select>
                </a-form-model-item>
              </a-col>
              <a-col :span="8">
                <a-form-model-item ref="templateVersion" label="版本" prop="templateVersion">
                  <a-input
                    disabled
                    v-model="commonData.templateVersion"
                    @blur="
                      () => {
                        $refs.templateVersion.onFieldBlur()
                      }
                    "
                  />
                </a-form-model-item>
              </a-col>
              <a-col :span="8">
                <a-form-model-item ref="signOrgId" label="签字单位" prop="signOrgId">
                  <a-tree-select
                    :disabled="commonDisabled"
                    v-model="commonData.signOrgId"
                    show-search
                    style="width: 100%"
                    :dropdown-style="{ maxHeight: '400px', overflow: 'auto' }"
                    :tree-data="signOrgNameOptions"
                    placeholder="签字单位"
                    allow-clear
                    tree-default-expand-all
                  />
                </a-form-model-item>
              </a-col>
              <a-col :span="8">
                <a-form-model-item ref="postName" label="岗位" prop="postName">
                  <!-- <a-select
                    :disabled="commonDisabled"
                    show-search
                    v-model="commonData.postId"
                    placeholder="岗位"
                    style="width: 100%"
                  >
                    <a-select-option v-for="d in postNameOptions" :key="d.id">{{ d.postName }}</a-select-option>
                  </a-select>-->
                  <a-input
                    :disabled="commonDisabled"
                    v-model="commonData.postName"
                    @blur="
                      () => {
                        $refs.postName.onFieldBlur()
                      }
                    "
                  />
                </a-form-model-item>
              </a-col>
            </a-row>
            <a-row>
              <a-col :span="10">正文</a-col>
              <a-col :span="14">
                <al-row :gutter="24">
                  <a-col :span="5">制定单位</a-col>
                  <a-col :span="5">{{ userInfo.deptName }}</a-col>
                  <a-col :span="3">制定人</a-col>
                  <a-col :span="6">{{ userInfo.realName }}</a-col>
                  <a-col :span="5">{{ newDate }}</a-col>
                </al-row>
              </a-col>
              <a-col :span="24">
                <quill-editor
                  :disabled="commonDisabled"
                  v-model="commonData.contents"
                  ref="myQuillEditor"
                  :options="editorOption"
                  @blur="onEditorBlur($event)"
                  @focus="onEditorFocus($event)"
                  @ready="onEditorReady($event)"
                  @change="onEditorChange($event)"
                ></quill-editor>
              </a-col>
              <a-col :span="24">
                <a-button type="primary" @click="addPeople">添加人员</a-button>
                <a-table
                  :rowKey="(record) => record.id"
                  :columns="tableColumns"
                  :pagination="false"
                  :data-source="commonData.safetyTemplateUsersList"
                >
                  <span slot="action" slot-scope="text, record">
                    <a
                      @click="deletePeople(record)"
                      v-show="record.userIsSign === '未签字' || !record.userIsSign"
                    >删除</a>
                  </span>
                </a-table>
              </a-col>
            </a-row>
          </div>
        </a-form-model>
      </a-modal>
      <person-select-modal
        :visible.sync="peopleVisible"
        :loading="confirmLoadingPeople"
        @ok="addPerson"
        title="添加人员"
        :dept-id="workUnitId"
        :multiple="true"
      />
    </a-card>
  </page-container>
</template>
<script>
import { STable } from '@/components'
import { targetResponsibilityColumns } from '@/views/safety/table'
import ApiURLs from '@/api/urls'
import { mapGetters } from 'vuex'
import { getStore } from '@/utils/store'
import { getDict } from '@/api/system'
import { getPersonnelTree } from '@/api/safety'
import PersonSelectModal from '@/views/safety/task/component/PersonSelectModal'

export default {
  name: 'targetResponsibility',
  components: {
    STable,
    PersonSelectModal
  },
  data() {
    return {
      pagination: {
        current: 1,
        pageSize: 10,
        showSizeChanger: true
      },
      mainId: '',
      content: null,
      editorOption: {
        // some quill options
        placeholder: '请输入正文',
        modules: {
          toolbar: {
            container: [
              // ['bold', 'italic'],
              // ['link', 'image'],

              ['bold', 'italic', 'underline', 'strike'], // toggled buttons

              [{ header: 1 }, { header: 2 }], // custom button values
              [{ list: 'ordered' }, { list: 'bullet' }],
              [{ script: 'sub' }, { script: 'super' }], // superscript/subscript
              [{ indent: '-1' }, { indent: '+1' }], // outdent/indent
              [{ direction: 'rtl' }], // text direction

              [{ size: ['small', false, 'large', 'huge'] }], // custom dropdown
              [{ header: [1, 2, 3, 4, 5, 6, false] }],

              [{ color: [] }, { background: [] }], // dropdown with defaults from theme
              [{ font: [] }],
              [{ align: [] }],

              ['clean'] //
            ]
          }
        }
      },
      tableColumns: [
        {
          title: '姓名',
          dataIndex: 'userName',
          key: 'realName',
          align: 'center'
        },
        {
          title: '岗位',
          dataIndex: 'postName',
          key: 'postName',
          align: 'center'
        },
        {
          title: '推送日期',
          dataIndex: 'pullDate',
          key: 'pullDate',
          align: 'center'
        },
        {
          title: '签字状态',
          dataIndex: 'userIsSign',
          key: 'userIsSign',
          align: 'center'
        },
        {
          title: '操作',
          key: 'action',
          scopedSlots: { customRender: 'action' }
        }
      ],
      peopleVisible: false,
      confirmLoadingPeople: false,
      autoExpandParent: true,
      expandedKeys: [],
      checkedKeys: [],
      peopleData: [],

      templateTypeNameOptions: [],
      templateYearNameOptions: [],
      signOrgId: [],
      postNameOptions: [],

      labelCol: { span: 10 },
      wrapperCol: { span: 14 },
      confirmLoading: false,
      commonTitle: '',
      commonVisible: false,
      commonData: {},
      commonDisabled: false,
      queryParam: {},
      selectedRowKeys: [],
      selectedRows: [],
      loadData: parameter => {
        const requestParameters = { current: parameter.pageNo, size: parameter.pageSize }
        Object.assign(requestParameters, this.queryParam)
        return this.getList(ApiURLs.targetResponsibilityList, requestParameters).then(res => {
          const data = {}
          data.totalCount = res.data.total
          data.totalPage = res.data.pages
          data.pageNo = res.data.current
          data.pageSize = res.data.size
          data.data = res.data.records
          this.pagination = {
            current: data.pageNo,
            pageSize: data.pageSize,
            showSizeChanger: true
          }
          this.templateVersion = res.data.records
          return data
        })
      },
      userInfo: getStore({ name: 'info' }),
      newDate: '',
      versionData: '',
      templateVersion: [],
      rules: {
        templateName: [{ required: true, message: '请填写名称', trigger: 'blur' }],
        templateTypeValue: [{ required: true, message: '请选择模板类型', trigger: 'change' }],
        templateYearId: [{ required: true, message: '请选择年度', trigger: 'change' }],
        signOrgId: [{ required: true, message: '请选择签字单位', trigger: 'change' }],
        postName: [{ required: true, message: '请填写岗位', trigger: 'change' }],
        // templateVersion: [{ required: true, message: '请填写版本', trigger: 'blur' }],
        contents: [{ required: true, message: '请填写内容', trigger: 'blur' }]
      }
    }
  },
  computed: {
    ...mapGetters(['permission']),
    columns: () => targetResponsibilityColumns,
    hasSelected() {
      return this.selectedRowKeys.length > 0
    },
    rowSelection() {
      return {
        selectedRowKeys: this.selectedRowKeys,
        onChange: this.onSelectChange
      }
    }
  },
  filters: {
    colorFilter: function(value) {
      const colorList = ['green', 'orange']
      return colorList[value]
    },
    textFilter: function(value) {
      const textList = ['已发布', '未发布']
      return textList[value]
    }
  },
  mounted() {},
  methods: {
    //获取当前日期
    getNewDate() {
      var date = new Date()
      this.newDate = date.toLocaleDateString()
      // var year = date.getFullYear()
      // var month = date.getMonth() + 1
      // month = month < 10 ? '0' + month : month
      // var myDate = date.getDate()
      // var nowDate = year.toString() + month.toString() + myDate.toString()
      // if (this.templateVersion.length === 0) {
      //   this.versionData = nowDate + '001'
      // } else {
      //   var a = this.templateVersion[0].templateVersion
      //   var oldDate = a.substring(0, a.length - 3)
      //   if (oldDate !== nowDate) {
      //     this.versionData = nowDate + '001'
      //   } else {
      //     for (var i = 0; i < this.templateVersion.length; i++) {
      //       var b = a.substring(a.length - 3)
      //       var c = Number(b) + 1
      //       var d = c > 9 ? '0' + c : '00' + c
      //       this.versionData = nowDate + d.toString()
      //     }
      //   }
      // }
      // console.log(nowDate, '当前日期')
      // console.log(this.versionData, '当前版本')
    },
    //点击添加人员
    addPeople() {
      this.peopleVisible = true
    },
    //添加人员确定
    addPerson(data) {
      if (this.commonDisabled === false) {
        let arrs = [...data, ...this.commonData.safetyTemplateUsersList]
        //根据id去重
        let map = new Map()
        for (let item of arrs) {
          if (!map.has(item.userId)) {
            map.set(item.userId, item)
          }
        }
        let newArr = [...map.values()]
        this.commonData.safetyTemplateUsersList = newArr
      } else {
        const url = `${ApiURLs.commitmentModelPerson}`
        var arr = []
        arr = data.filter(x => !this.commonData.safetyTemplateUsersList.some(item => x.userId === item.userId))
        this.submitForm(
          url,
          {
            safetyTemplateUsersList: arr,
            mainId: this.mainId
          },
          'post'
        ).then(({ success }) => {
          if (success) {
            this.$message.success(`操作成功`)
            this.getRecord(this.mainId)
          }
        })
      }
    },
    //删除人员
    deletePeople(data) {
      if (this.commonDisabled === false) {
        var arr = []
        this.commonData.safetyTemplateUsersList.forEach(item => {
          if (item.userId !== data.userId) {
            arr.push(item)
          }
        })
        this.commonData.safetyTemplateUsersList = arr
      } else {
        const _this = this
        this.$confirm({
          title: '确定执行删除操作?',
          content: ' ',
          okText: '是',
          okType: 'danger',
          cancelText: '否',
          onOk() {
            const url = `${ApiURLs.commitmentModelPerson}`
            _this.submitForm(url, [data.id], 'delete').then(({ success }) => {
              if (success) {
                _this.$message.success(`操作成功`)
                _this.getRecord(_this.mainId)
              }
            })
          },
          onCancel() {
            console.log('Cancel')
          }
        })
      }
    },
    //富文本编辑
    onEditorBlur(quill) {
      console.log('editor blur!', quill)
    },
    onEditorFocus(quill) {
      console.log('editor focus!', quill)
    },
    onEditorReady(quill) {
      console.log('editor ready!', quill)
    },
    onEditorChange({ quill, html, text }) {
      console.log('editor change!', quill, html, text)
      this.$emit('change', html)
    },
    // 获取人员数据
    getSelectOptions() {
      getPersonnelTree(0).then(res => {
        this.signOrgNameOptions = res.data
      })
    },

    initFormData() {
      this.commonData = {
        contents: '',
        id: '',
        makerId: '',
        makerName: '',
        makerOrgId: this.userInfo.deptId,
        makerOrgName: this.userInfo.deptName,
        postName: this.userInfo.postName,
        pubDate: '',
        safetyTemplateUsersList: [],
        signOrgId: '',
        signOrgName: '',
        status: 1,
        templateName: '',
        templateTypeId: '',
        templateTypeName: '',
        templateTypeValue: '',
        templateVersion: this.versionData,
        templateYear: '',
        templateYearId: ''
      }
    },
    commonInit() {
      this.commonVisible = false
      this.commonDisabled = false
      this.commonTitle = ''
      this.confirmLoading = false
      this.initFormData()
    },
    onSelectChange(selectedRowKeys, selectedRows) {
      this.selectedRowKeys = selectedRowKeys
      this.selectedRows = selectedRows
    },
    searchReset() {
      this.queryParam = {}
      this.$refs.table.refresh(true)
      this.$refs.table.clearSelected()
    },
    addRecord() {
      this.axios.get('/spang-safety/safetyresp/safetytemplate/getCurrentCode').then(rs => {
        if (rs.code === 200) {
          this.versionData = rs.data
          this.commonTitle = '新增数据'
          this.commonVisible = true
          this.commonDisabled = false
          this.commonData.safetyTemplateUsersList = []
          this.getNewDate()
          this.initFormData()
        }
      })
    },
    removeRecords() {
      const ids = this.selectedRows.map(item => item.id)
      this.showDeleteConfirm(ids)
    },
    //查看详情
    getRecord(id, callback) {
      this.getById(ApiURLs.targetResponsibility, id).then(({ data, success }) => {
        if (success) {
          data.templateTypeValue = data.templateTypeValue.toString()
          this.commonData = JSON.parse(JSON.stringify(data))
          this.newDate = data.gmtCreate.replace(/\s[\x00-\xff]*/g, '')
          this.commonData.safetyTemplateUsersList.forEach(item => {
            item.userIsSign = item.userIsSign === 1 ? '未签字' : '已签字'
          })

          //对富文本进行解码
          var temp = document.createElement('div')
          temp.innerHTML = this.commonData.contents
          this.commonData.contents = temp.innerText || temp.textContent
          temp = null

          callback()
        }
      })
    },
    viewRecord(record) {
      this.mainId = record.id
      this.commonTitle = '查看数据'
      this.getRecord(record.id, () => {
        this.commonDisabled = true
        this.commonVisible = true
      })
    },
    editRecord(record) {
      this.commonTitle = '编辑数据'
      this.getRecord(record.id, () => {
        this.commonDisabled = false
        this.commonVisible = true
      })
    },
    removeRecord(record) {
      this.showDeleteConfirm([record.id])
    },
    modalCancel() {
      this.commonInit()
    },
    //保存
    modalOk() {
      let method = ''
      var formData = JSON.parse(JSON.stringify(this.commonData))
      if (this.isNotNullOrUndefined(this.commonData.id)) {
        method = 'put'
      } else {
        method = 'post'
        this.$delete(formData, 'templateVersion') //新增时删除版本参数
      }

      this.templateTypeNameOptions.forEach(item => {
        if (this.commonData.templateTypeValue === item.dictKey) {
          formData.templateTypeName = item.dictValue
          formData.templateTypeId = item.id
          formData.templateTypeValue = item.dictKey
        }
      })
      this.templateYearNameOptions.forEach(item => {
        if (this.commonData.templateYearId === item.dictKey) {
          formData.templateYear = item.dictValue
          formData.templateYearId = item.dictKey
        }
      })
      // this.postNameOptions.forEach(item => {
      //   if (formData.postId === item.id) {
      //     formData.postName = item.postName
      //   }
      // })
      this.getTreeName(this.signOrgNameOptions, formData.signOrgId)

      //对富文本进行编码处理
      var temp = document.createElement('div')
      temp.textContent != undefined ? (temp.textContent = formData.contents) : (temp.innerText = formData.contents)
      formData.contents = temp.innerHTML
      temp = null
      //删除某个元素
      formData.safetyTemplateUsersList.forEach(item => {
        this.$delete(item, 'postId')
      })

      const params = {
        ...formData,
        templateTypeName: formData.templateTypeName,
        templateYear: formData.templateYear,
        signOrgName: this.commonData.signOrgName
      }
      if (params.safetyTemplateUsersList.length === 0) {
        this.$message.warning('至少添加一个人员')
      } else {
        params.safetyTemplateUsersList.forEach(item => {
          if (item.userIsSign) {
            // item.userIsSign = item.userIsSign === '未签字' ? 1 : 0
            if (item.userIsSign === '未签字') {
              item.userIsSign = 1
            } else {
              item.userIsSign = 0
            }
          } else {
          }
        })
        this.$refs.ruleForm.validate(valid => {
          if (valid) {
            this.submitForm(ApiURLs.targetResponsibility, params, method, {
              // headers: { 'Content-Type': 'multipart/form-data' }
            }).then(res => {
              this.$refs.table.refresh()
              this.$refs.table.clearSelected()
              this.commonInit()
            })
          } else {
            console.log('error submit!!')
            return false
          }
        })
      }
    },
    //根据单位ID查询单位名称
    getTreeName(list, id) {
      let _this = this
      for (let i = 0; i < list.length; i++) {
        let a = list[i]
        if (a.id == id) {
          this.commonData.signOrgName = a.title
          // return a.title
        } else {
          if (a.children && a.children.length > 0) {
            let res = _this.getTreeName(a.children, id)
            if (res) {
              return res
            }
          }
        }
      }
    },
    //发布
    publishRecord(record, status) {
      const url = `${ApiURLs.targetResponsibilityStatusUpdate}?status=${status}&id=${record.id}`
      this.submitForm(url, null, 'put').then(({ success }) => {
        if (success) {
          this.$message.success(`操作成功`)
          this.searchReset()
        }
      })
    },
    showDeleteConfirm(params) {
      const _this = this
      this.$confirm({
        title: '确定执行删除操作?',
        content: ' ',
        okText: '是',
        okType: 'danger',
        cancelText: '否',
        onOk() {
          _this.deleteByIds(ApiURLs.targetResponsibility, params).then(res => {
            if (res.code === 200) {
              _this.$message.success('删除成功')
              _this.selectedRows = []
              _this.selectedRowKeys = []
              _this.$refs.table.refresh()
            } else {
              _this.$message.error('删除失败')
            }
          })
        },
        onCancel() {
          console.log('Cancel')
        }
      })
    },
    onTimeChange(value, dateString) {},
    //关闭弹框
    handleCancel() {
      this.commonVisible = false
    },
    //人员选择弹框确定
    peopleModalOk() {},
    //关闭人员选择弹框
    closePeopleModel() {
      this.peopleVisible = false
    },
    //人员选择
    onCheck(checkedKeys) {
      console.log('onCheck', checkedKeys)
      this.checkedKeys = checkedKeys
    }
  },
  created() {
    //模板类型
    this.getDict('TEMPLATE_TYPE').then(({ data, success }) => {
      if (success) {
        this.templateTypeNameOptions = data
      }
    })
    //年度
    this.getDict('TEMPLATE_YEAR').then(({ data, success }) => {
      if (success) {
        this.templateYearNameOptions = data
      }
    })
    //岗位
    this.axios.get('/spang-system/post/select').then(rs => {
      this.postNameOptions = rs.data
    })
    //签字单位
    this.getSelectOptions()
  },
  watch: {
    commonVisible(val, newVal) {
      if (val) {
        try {
          this.$refs['ruleForm'].resetFields()
        } catch (e) {}
      }
    }
  }
}
</script>
<style lang="less" scoped>
/deep/ .ant-table {
  height: auto;
}

/deep/ .table-card .ant-card-body {
  padding-top: 0;
  padding-bottom: 15px;
}

.quill-editor {
  height: 200px;
}
.ant-col-24:last-child {
  margin-top: 80px;
}
/deep/.ant-form-item-label {
  width: 100px !important;
}
/deep/.ant-col {
  margin: 3px 0;
}
/deep/ .ant-modal-body {
  max-height: 700px;
  overflow-y: auto;
}
/deep/ .ant-table-body {
  overflow-y: auto !important;
}
/deep/.ant-btn-primary[disabled] {
  display: none !important;
}
</style>
