<template>
  <a-card
    :bordered="false"
    style="margin: 15px"
    :headStyle="{ border: 'none', paddingBottom: 0 }"
    :bodyStyle="{ paddingBottom: 40 }"
    class="table-card,enterprise"
  >
    <div class="header">
      <div class="lg">安全承诺公告牌</div>
      <div class="sm">陕西煤业化工集团神木天元化工有限公司</div>
    </div>
    <div class="content">
      <div class="top">
        <span class="left">
          公
          <br />司
          <br />状
          <br />态
        </span>
        <span class="center">
          <p>1、生产装置：{{data.produceNum}}套，其中：{{data.workNum}}套运行，停产{{data.stopNum}}套，检修{{data.overhaulNum}}套。</p>
          <p>2、特殊作业：{{data.specialNum}}处，其中：特级动火作业{{data.specialFireNum}}处，一级动火作业{{data.oneFireNum}}处，二级动火作业{{data.twoFireNum}}处，进入受限空间作业：{{data.spaceNum}}处。</p>
          <p>
            3、是否处于试生产：
            <span v-if="data.isProduce === 0">是</span>
            <span v-else>否</span>
          </p>
          <p>
            4、是否处于开停车状态：
            <span v-if="data.isStop === 0">是</span>
            <span v-else>否</span>
          </p>
          <p>
            5、重大危险源是否处于安全状态：
            <span v-if="data.isSafety === 0">是</span>
            <span v-else>否</span>
          </p>
          <p>
            6：重大危险源是否落实安全包保责任：
            <span v-if="data.isResp === 0">是</span>
            <span v-else>否</span>
          </p>
        </span>
      </div>
      <div class="bottom">
        <span class="left">
          公
          <br />司
          <br />承
          <br />诺
        </span>
        <div>
          <span class="center">
            <p>
              <span style="margin-left:30px;"></span>今天我公司已进行安全风险研判，各项安全风险防控措施已落实到位，我承诺所有生产装置处于安全运行状态，重大危险源安全风险得到有效管控。
            </p>
          </span>
          <div style="margin-top:20px;">
            <div class="center personal" style="text-align:right;">
              <span class="personal-label" style="height:40px;line-height:40px;">
                主要负责人
              </span>
              <img :src="data.approveSignPicUrl" alt style="height: 40px"/>
              <br />
              <span class="personal-label">
                承诺时间
              </span>
              <span class="personal-value">
                {{data.approveTime}}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </a-card>
</template>
<script>
export default {
  data() {
    return {
      data: {}
    }
  },
  created() {
    this.getData()
  },
  methods: {
    getData() {
      this.axios.get('/spang-safety/safetyresp/companytemplate/getCurrentResp').then(rs => {
        if (rs.code === 200) {
          this.data = rs.data
          this.data.approveTime =
            this.data.approveTime.substr(0, 4) +
            '年' +
            this.data.approveTime.substr(5, 2) +
            '月' +
            this.data.approveTime.substr(8, 2) +
            '日'
        }
      })
    }
  }
}
</script>
<style lang='less' scoped>
.ant-card-body {
  .header {
    text-align: center;
    .lg {
      font-size: 50px;
    }
    .sm {
      font-size: 30px;
      margin-bottom: 40px;
    }
  }
  .content {
    width: 80%;
    margin: 0 auto;
    div {
      span {
        display: inline-block;
      }
      .left {
        height: 100%;
        float: left;
        font-size: 30px;
        font-weight: bold;
        width: 8%;
        text-align: center;
        padding-top: 48px;
      }
      .center {
        width: 85%;
        padding: 20px 0;
      }
      .right {
        float: right;
      }
    }
    .top {
      height: auto;
      border: 1px solid #aaa;
      .center {
        border-left: 1px solid #aaa;
        padding-left: 10px;
      }
    }
    .bottom {
      height: 300px;
      border: 1px solid #aaa;
      border-top: none;
      p {
        margin-top: 40px;
        padding-left: 10px;
      }
      .left {
        border-right: 1px solid #aaa;
        width: calc(8% + 1px);
      }
      .personal{
        .personal-label {
          display: inline-block;
          width:100px;
          text-align: right;
        }
        .personal-value {
          margin-left: 10px;
          display: inline-block;
          text-align: right;
        }
      }
      img {
        height:37px;
        line-height:37px;
      }
    }
  }
}
/deep/ .ant-card-body {
  padding-bottom: 90px;
}
</style>
<style>

</style>