<template>
  <div class="content">
    <a-card :bordered="false">
      <div slot="title" style="text-align: center;font-size: 24px">
        {{ formData.title }}
      </div>
      <a-row :gutter="24">
        <a-col :span="18">
          <a-descriptions class="status-content">
            <a-descriptions-item label="生产装置套数">{{ formData.unitsNumber }} 套</a-descriptions-item>
            <a-descriptions-item label="运行套数">{{ formData.runNumber }} 套</a-descriptions-item>
            <a-descriptions-item label="停产套数">{{ formData.parkNumber }} 套</a-descriptions-item>
            <a-descriptions-item label="一级重大危险源">{{ formData.hazardRank1 }} 处</a-descriptions-item>
            <a-descriptions-item label="二级重大危险源">{{ formData.hazardRank2 }} 处</a-descriptions-item>
            <a-descriptions-item label="三级重大危险源">{{ formData.hazardRank3 }} 处</a-descriptions-item>
            <a-descriptions-item label="四级重大危险源">{{ formData.hazardRank4 }} 处</a-descriptions-item>
            <a-descriptions-item label="正在开停车装置数">{{ formData.openParkingNumber }} 处</a-descriptions-item>
            <a-descriptions-item label="试生产装置数">{{ formData.testNumber }} 处</a-descriptions-item>
            <a-descriptions-item label="重点监管危险工艺">{{ formData.dangerProcessNumber }} 种</a-descriptions-item>
            <a-descriptions-item label="检维修套数">{{ formData.inspectionNumber }} 套</a-descriptions-item>
            <a-descriptions-item label="特级动火作业">{{ formData.firesNumber }} 处</a-descriptions-item>
            <a-descriptions-item label="一级动火作业">{{ formData.fire1Number }} 处</a-descriptions-item>
            <a-descriptions-item label="二级动火作业">{{ formData.fire2Number }} 处</a-descriptions-item>
            <a-descriptions-item label="进入受限空间作业">{{ formData.spaceworkNumber }} 处</a-descriptions-item>
            <a-descriptions-item label="盲板抽堵作业">{{ formData.blindplateNumber }} 处</a-descriptions-item>
            <a-descriptions-item label="高处作业">{{ formData.highworkNumber }} 处</a-descriptions-item>
            <a-descriptions-item label="吊装作业">{{ formData.liftingworkNumber }} 处</a-descriptions-item>
            <a-descriptions-item label="临时用电作业">{{ formData.electricityworkNumber }} 处</a-descriptions-item>
            <a-descriptions-item label="动土作业">{{ formData.soilworkNumber }} 处</a-descriptions-item>
            <a-descriptions-item label="断路作业">{{ formData.roadworkNumber }} 处</a-descriptions-item>
            <a-descriptions-item label="检维修作业">{{ formData.overhaulWorkNumber }} 处</a-descriptions-item>
            <a-descriptions-item label="是否有承包商作业">{{ formData.value }}</a-descriptions-item>
            <a-descriptions-item label="是否处于试生产期">{{ formData.value }}</a-descriptions-item>
            <a-descriptions-item label="是否处于开停车状态">{{ formData.value }}</a-descriptions-item>
            <a-descriptions-item label="是否开展中（扩）试">{{ formData.value }}</a-descriptions-item>
            <a-descriptions-item label="有无重大隐患">{{ formData.value }}</a-descriptions-item>
          </a-descriptions>
        </a-col>
        <a-col :span="6">
          <div class="right-img">
            <img src="../../../../static/高风险.svg">
            <p class="text">{{ formData.promiseRiskRankName }}</p>
          </div>
        </a-col>
      </a-row>
    </a-card>
    <a-card :bordered="false">
      <div slot="title" style="text-align: center;font-size: 24px">
        企业承诺
      </div>
      <p style="padding-left: 10px;font-size: 16px"> {{ formData.commitmentNotice }}</p>
      <p style="padding-left: 10px;font-size: 16px;text-align: right;padding-right: 40px"> 主要负责人: {{ formData.commitment }}</p>
      <p style="padding-left: 10px;font-size: 16px;text-align: right;padding-right: 20px"> {{ formData.commitDate }}</p>
    </a-card>
  </div>
</template>

<script>
import Important from '@/views/safety/important/Important'
import { detailPromiseList, getPromiseList } from '@/api/safety'

export default {
  name: 'Announcement',
  components: { Important },
  data () {
    return {
      formData: {
        title: '企业状态',
        value: '正常',
        riskStatus: '高风险',
        content: '今天我公司进行安全风险研判，各项安全风险防控措施已经落实到位，我承诺所有安全生产装置处于安全运行状态，罐区、仓库等重大危险源安全风险得到有效管控。',
        dutyPersonName: '张三',
        dutyTime: '2020-12-29'
      }
    }
  },
  created () {
    this.getData()
  },
  methods: {
    getData () {
      // detailPromiseList('610510060').then(res => {
      //   this.formData = res.data
      // })
      getPromiseList().then(res => {
        this.formData = res.data.records[0]
      })
    }
  }
}
</script>
<style lang="less" scoped>
.content {
  border: 1px solid #fdfdfd;
  background-color: #fdfdfd;
  height: calc(100vh - 125px);
  overflow-y: auto;
  &::-webkit-scrollbar{
    width: 5px;
    height: 1px;
  }
}
/deep/ .ant-card-body {
  //min-height: calc(100vh - 165px);
}
.right-img {
  //border: .08333rem solid #20edfa;
  //box-shadow: 0 0 0.5rem #20edfa;
  text-align: center;
  padding: 24px;
  .text {
    margin-top: 10px;
    color: #DD3931;
    font-size: 24px;
    font-weight: bold
  }
}
.status-content {
  /deep/.ant-descriptions-item-label{
    width: 200px;
    text-align: right;
    padding-right: 10px;
    font-size: 16px;
  }
  /deep/.ant-descriptions-item-content{
    font-size: 16px;
    color: #1890ff;
  }
}
</style>
