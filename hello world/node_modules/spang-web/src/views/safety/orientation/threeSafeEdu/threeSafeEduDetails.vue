<template>
  <a-modal
    title="查看数据"
    :bodyStyle="{ maxHeight: '700px', overflow: 'auto', paddingTop: '5px' }"
    :width="700"
    :visible="visible"
    :closable="false"
    :keyboard="false"
    :maskClosable="false"
    @cancel="
      () => {
        $emit('cancel')
      }
    "
  >
    <template slot="footer">
      <a-button
        @click="
          () => {
            $emit('cancel')
          }
        "
        >取消</a-button
      >
    </template>
    <a-card style="margin-top: 8px">
      <a-descriptions :column="1" style="margin-left: 80px" :colon="true" v-if="mode === 'safetyeducation'">
        <a-descriptions-item label="员工">{{ info.userName || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="培训课时">{{ info.trainPeriod || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="授课开始日期">{{ info.teachStartDate || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="授课结束日期">{{ info.teachEndDate || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="考试成绩">{{ info.examScore || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="授课人">{{ info.teacherName || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="教育类型">{{ info.eduTypeName || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="创建时间">{{ info.createTime || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="创建人">{{ info.createName || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="附件" :key="index">
          <template v-if="info.accessoryList && info.accessoryList.length > 0">
            <a-button
              type="link"
              size="small"
              @click="fileDownLoad(file.fileId, file.fileName)"
              :disabled="file.fileName === ''"
              v-for="file in info.accessoryList"
              :key="file.fileId"
              :title="file.fileName"
            >
              {{ file.fileName }}
            </a-button>
          </template>
          <template v-else>
            {{ '-' }}
          </template>
        </a-descriptions-item>
      </a-descriptions>
    </a-card>
  </a-modal>
</template>

<script>
import { downloadFile } from '@/api/common'
export default {
  name: 'OrientationDetail',
  props: {
    visible: {
      type: Boolean,
      required: true,
    },
    info: {
      type: Object,
      default: {},
    },
    mode: {
      type: String,
      default: '',
    },
  },
  methods: {
    fileDownLoad(id, name) {
      downloadFile(id, name)
    },
  },
}
</script>
<style lang="less" scoped>
/deep/ .ant-modal-title {
  font-size: 18px;
}
/deep/ .ant-descriptions-item {
  display: flex;
}

/deep/ .ant-descriptions-item-label {
  width: 150px;
  font-size: 15px;
  text-align: right;
}
/deep/ .ant-descriptions-item-content {
  font-size: 15px;
  max-width: 300px;
  display: flex;
  flex-direction: column;
  align-items: baseline;
}
</style>
