<template>
  <a-modal
    title="申请延期"
    :width="600"
    :visible="visible"
    @ok="() => { $emit('ok') }"
    @cancel="() => { $emit('cancel') }"
    ok-text="提交"
    cancel-text="取消"
    :keyboard="false"
    :maskClosable="false"
  >
    <a-form :form="form" :label-col="{ span: 6 }" :wrapper-col="{ span: 14}" >
      <a-form-item label="延期原因">
        <a-textarea :rows="4" v-decorator="['delayReason', { rules: [{ required: true, message: '请填写延期原因'}]}]"/>
      </a-form-item>
      <a-form-item label="整改期限">
        <!--        <a-date-picker v-decorator="['approveResult', { rules: [{ required: true, message: ''}]}]"/>-->
        {{ model.abarbeitungDeadline }}
      </a-form-item>
      <a-form-item label="延期至">
        <a-date-picker v-decorator="['extensionDeadline', { rules: [{ required: true, message: '请选择延期时间'}]}]" valueFormat="YYYY-MM-DD HH:mm:ss"/>
      </a-form-item>
      <person-select label-name="延期审核人" decorator-name="auditPersonId" />
      <!-- <a-form-item label="附件">
        <a-textarea :rows="4" v-decorator="['approveContent', { rules: [{ required: true, message: '请填写审批意见'}]}]"></a-textarea>
      </a-form-item> -->
    </a-form>
  </a-modal>
</template>

<script>
import PersonSelect from '@/views/safety/components/PersonSelect'

export default {
  name: 'DelayModal',
  components: {
    PersonSelect
  },
  props: {
    visible: {
      type: Boolean,
      default: false
    },
    model: {
      type: Object,
      default: () => null
    }
  },
  data () {
    return {
      form: this.$form.createForm(this)
    }
  }
}
</script>
