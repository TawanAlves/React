<template xmlns:a-modal="http://www.w3.org/1999/html">
  <a-modal
    title="详细信息"
    :bodyStyle="{maxHeight:'700px',overflow:'auto',paddingTop: '5px'}"
    :width="800"
    :visible="visible"
    :confirmLoading="loading"
    :closable="false"
    @cancel="() => { $emit('cancel') }"
    :keyboard="false"
    :maskClosable="false"
  >
    <template slot="footer">
      <a-button type="primary" @click="() => { $emit('cancel') }">返回</a-button>
    </template>
    <a-card title="基本信息" style="margin-bottom: 4px;margin-top: 4px">
      <a-descriptions :column="1" style="margin-left: 80px" :colon="true">
        <!--        <a-descriptions-item label="检查单位">{{ basicInfo }}</a-descriptions-item>-->
        <!--        <a-descriptions-item label="检查时间">{{ basicInfo }}</a-descriptions-item>-->
        <!--        <a-descriptions-item label="检查人">{{ basicInfo }}</a-descriptions-item>-->
        <a-descriptions-item label="隐患地点">{{ basicInfo.perilAddress || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="隐患内容">{{ basicInfo.perilDescription || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="责任部门/车间">{{ basicInfo.dutyUnitName || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="隐患类型">{{ basicInfo.typeName || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="隐患等级">{{ basicInfo.levelName || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="整改要求">{{ basicInfo.abarbeitungDemand || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="整改责任人">{{ basicInfo.dutyPersonName || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="整改类型">{{ basicInfo.abarbeitungTypeName || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="整改期限">{{ basicInfo.abarbeitungDeadline || ' - ' }}</a-descriptions-item>
        <!--        <a-descriptions-item label="隐患附件">{{ basicInfo }}</a-descriptions-item>-->
        <a-descriptions-item label="创建人">{{ basicInfo.informantName || ' - ' }}</a-descriptions-item>
        <a-descriptions-item label="创建时间">{{ basicInfo.createTime || ' - ' }}</a-descriptions-item>
      </a-descriptions>
    </a-card>
    <a-card title="审核信息" style="margin-bottom: 4px;margin-top: 4px" v-if="false">
      <a-descriptions :column="1" style="margin-left: 80px">
        <a-descriptions-item label="审核人">xx</a-descriptions-item>
        <a-descriptions-item label="审批意见">XX</a-descriptions-item>
        <a-descriptions-item label="复查人">2017-07-07</a-descriptions-item>
        <a-descriptions-item label="复查意见">同意</a-descriptions-item>
      </a-descriptions>
    </a-card>
    <a-card title="整改信息" style="margin-bottom: 4px;margin-top: 4px" v-if="false">
      <a-descriptions :column="1" style="margin-left: 80px">
        <a-descriptions-item label="整改措施">{{ abarbeitungInfo.abarbeitungMeasure }}</a-descriptions-item>
        <a-descriptions-item label="整改时间">{{ abarbeitungInfo.abarbeitungTime }}</a-descriptions-item>
        <a-descriptions-item label="整改附件">{{ abarbeitungInfo.accessory }}</a-descriptions-item>
      </a-descriptions>
    </a-card>
  </a-modal>
</template>

<script>
import { abarbeitungReformList, detailReformList } from '@/api/safety'

export default {
  name: 'DetailModal',
  props: {
    visible: {
      type: Boolean,
      required: true
    },
    loading: {
      type: Boolean,
      default: () => false
    },
    id: {
      type: String,
      default: ''
    },
    basicInfo: {
      type: Object,
      default: {}
    }
  },
  data () {
    return {
      // basicInfo: {},
      abarbeitungInfo: {}
    }
  }
  // watch: {
  //   'id': {
  //     handler(val) {
  //       if (val !== '') {
  //         console.log('监听', val)
  //         detailReformList(val).then(res => {
  //          this.basicInfo = { ...res.data }
  //        })
  //         abarbeitungReformList(val).then(res => {
  //           this.abarbeitungInfo = { ...res.data}
  //         })
  //       }
  //     }
  //   }
  // }
}
</script>
<style lang="less" scoped>
/deep/ .ant-modal-title {
  font-size: 18px;
}
/deep/ .ant-card-head-title {
  font-weight: bolder;
}
/deep/ .ant-descriptions-item-label {
  width: 150px;
  font-size: 15px;
  //font-weight: bolder;
  text-align: right;
}
/deep/ .ant-descriptions-item-content {
  font-size: 15px;
  font-weight: bolder;
}
</style>
<!--<style lang="less" scoped>-->
<!--/deep/ .ant-modal-title {-->
<!--  font-size: 18px;-->
<!--}-->
<!--/deep/ .ant-card-head-title {-->
<!--  font-weight: bolder;-->
<!--}-->
<!--/deep/ .ant-descriptions-item-label {-->
<!--  width: 120px;-->
<!--  font-size: 15px;-->
<!--  font-weight: bolder;-->
<!--  text-align: right;-->
<!--}-->
<!--/deep/ .ant-descriptions-item-content {-->
<!--  font-size: 15px;-->
<!--}-->
<!--</style>-->
