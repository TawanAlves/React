<template>
  <a-form-item :label="labelName">
    <a-tree-select
      v-decorator="[decoratorName,{ rules:[{ required: true, message: '请选择隐患类型' }]}]"
      :disabled="disabled"
      style="width: 100%"
      :tree-data="treeData"
      :replaceFields="{children:'children', title:'dictValue', key:'dictKey', value: 'dictKey' }"
    />
  </a-form-item>
</template>

<script>

import { getPotentialRiskType } from '@/api/safety'
export default {
    name: 'TypeSelect',
    props: {
        decoratorName: {
            type: String,
            default: ''
        },
        labelName: {
            type: String,
            default: ''
        },
        disabled: {
            type: Boolean,
            default: false
        }
    },
    data () {
        return {
            treeData: []
        }
    },
    created () {
        this.getTreeData()
    },
    methods: {
        getTreeData () {
            getPotentialRiskType().then(res => {
                this.treeData = res.data
            })
        }
    }
}
</script>
