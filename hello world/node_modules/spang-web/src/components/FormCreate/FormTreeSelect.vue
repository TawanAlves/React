<template>
  <a-tree-select
    v-model="value"
    :disabled="disabled"
    style="width: 100%;"
    :dropdownStyle="{ maxHeight:'35vh', overflow: 'auto'}"
    :tree-data="treeData"
    :placeholder="placeholder"
    :replaceFields="replaceFields"
    @change="handleChange"
  />
</template>

<script>
  export default {
    name: 'FormTreeSelect',
    props: {
      value: {
        type: String,
        default: null
      },
      disabled: {
        type: Boolean,
        default: false
      },
      placeholder: {
        type: String,
        default: '请选择'
      },
      treeData: {
        type: Array,
        default: () => []
      },
      replaceFields: {
        type: Object,
        default: () => {
          return {
            children: 'children', title: 'title', key: 'key', value: 'value'
          }
        }
      }
    },
    methods: {
      handleChange (value, label) {
        this.$emit('input', value)
        this.$emit('change', { id: value, label: label[0] })
      }
    }
  }
</script>

<style scoped>

</style>
